# Docker

## 1. 개요


### 도커
- **Docker** : 컨테이너 기반의 오픈소스 가상화 플랫폼 </br>
-> 다양한 프로그램, 실행환경을 컨테이너로 추상화하고 어디든 실행할 수 있도록 함
</br>


- **컨테이너** : 격리된 공간에서 프로세스가 동작하는 기술 </br>
- **이미지** : 컨테이너 실행에 필요힌 파일과 설정값 등을 포함하고 있는 것
-> 상태값을 가지지 않고 변하지 않음
    - 우분투 이미지 : 우분투를 실행하기 위한 모든 파일을 가짐
    - 마이에스큐엘 이미지 : 마이에스큐엘을 실행하기 위헤 필요한 파일과 실행 명령어, 포트 정보 등을 가짐 </br>

    </br> 도커는 이미지를 만들기 위해 dockerfile이라는 파일에 자체 언어를 이용하여 이미지 생성 과정을 작성 </br>
    이미지는 컨테이너가 실행되기 위한 모든 정보를 가지고 있기 때문에 새로운 서버가 추가되면 미리 만들어 둔 이미지를 다운받고 컨테이너를 생성하기만 하면 됨


### 레이어 저장 방식
고용량의 문제를 해결하기 위해 **레이어**라는 개념을 이용 </br>

- 여러개의 레이어 -> 하나의 파일 시스템으로 사용 가능 </br>
- 가존의 이미지 : Read only 레이어로 구성 </br>
        새로운 파일이 생기거나 변경 사항이 생긴다면 새로운 레이어에 저장이 됨

___

## 2. 사용 방법


```
docker build -t [NAME]
docker run [OPTIONS] IMAGE[:TAG|@DIGEST] [COMMAND] [ARG...]
```

자주 사용하는 옵션

| 옵션 | 내용 |
| --- | ----|
| -d | detached mode 흔히 말하는 백그라운드 모드 |
| -p | 호스트와 컨테이너의 포트를 연결 (포워딩) |
| -v | 호스트와 컨테이너의 디렉토리를 연결 (마운트) |
| -e | 컨테이너 내에서 사용할 환경변수 설정 |
| -name | 컨테이너 이름 설정 |
| -rm | 프로세스 종료시 컨테이너 자동 제거 |
| -it | -i와 -t를 동시에 사용한 것으로 터미널 입력을 위한 옵션 |
| –link | 컨테이너 연결 [컨테이너명:별칭] |



